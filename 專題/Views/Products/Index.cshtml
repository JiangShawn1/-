@model IEnumerable<專題.Models.EFModels.Product>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            品牌
        </th>
        <th>
            顏色
        </th>
        <th>
            商品名稱
        </th>
        <th>
            商品介紹
        </th>
        <th>
            價錢
        </th>
        <th>
            圖片
        </th>
        <th>
            操作
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Brand.Brand1)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Color.Color1)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ProductName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ProductIntroduce)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Price)
        </td>
        <td>
            <img src="@item.ImageUrl" alt="Product Image" id="imgSize" width="200" height="200">
        </td>
        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.Id }) |
            @Html.ActionLink("Details", "Details", new { id=item.Id }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.Id })
        </td>
    </tr>
}

</table>

@*<script>
    $(document).ready(function () {
        $("#imgSize").bind("load", function () {
            var width = 220;
            var height = 200;
            var image = $(this);
            if (image.width() > image.height()) {
                if (image.width() > width) {
                    image.width(width);
                    image.height(width / image.width() * image.height());
                }
            } else {
                if (image.height() > height) {
                    image.height(height);
                    image.width(height / image.height() * image.width());
                }
            }
        });
    });
</script>*@
@*<script>
    function checkSize() {
        var maxWidth = 800;
        var maxHeight = 600;
        var file = $("#imgSize")[0].files[0];

        if (file.size > maxSize) {
            $("#error").html("圖片不能超過 2MB");
            $("#fileInput").val("");
        } else {
            $("#error").html("");
        }
    }
</script>*@
